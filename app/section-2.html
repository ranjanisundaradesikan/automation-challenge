<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="AlayaCare - Cypress interview handbook">
  <meta name="author" content="AlayaCare">
  <meta name="copyright" content="AlayaCare">

  <title>AlayaCare - Cypress interview handbook</title>

  <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/assets/css/vendor/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/css/vendor/fira.css">
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>

<body>
  <nav class="navbar navbar-inverse">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">AlayaCare</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/">Start here!</a></li>
          <li><a href="/section-1">Section 1</a></li>
          <li class="active"><a href="/section-2">Section 2</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="banner">
    <div class="container">
      <h1>API Interactions</h1>
      <p>In this section, interactions with various APIs will be covered.
      </p>
    </div>
  </div>
  <div class="container content-container">
    <div id="api-commands">
      <div class="row">
        <div class="row">

          <div class="col-xs-12">
            <h4>Http: Waiting for network calls ‚è≥</h4>
            <p>Network delays can be a source of issues for flaky tests! <br>
              Fortunately, Cypress offers multiple ways to mitigate this with some ready to be used commands.</p>
            <div class=" well" style="margin-top: 0; margin-bottom: 10px;">
              <h5>‚ö†Ô∏è Pre-Requisite ‚ö†Ô∏è</h5>
              <p>Before starting this section, you will need to start a webserver to serve mock API requests. <br><br>
                To do so, run <code>npm run start:section-2</code>. This will start a lightweight server on your
                port 8889.</p>
            </div>
            <div class="well" style="margin-top: 0; margin-bottom: 10px;">
              <p><strong>Problem steps:</strong></p>
              <ol>
                <li>Click on the following button to trigger an abnormally long network call (+10sec)</li>
                <li>Assert the status of the answer</li>
                <li>Assert the payload of the returned object</li>
                <li>Assert that the UI shows an alert message and its content should equal "Abnormally long network
                  call!"</li>
              </ol>
            </div>

            <button id="network-call-button" data-test="network-call-button" class="network-call-button">Click
              me!</button>
          </div>

          <div class="col-xs-12">
            <hr>
          </div>

          <div class="col-xs-12">
            <h4 id="arch">Browser API: Opening a new tab üóÇ</h4>
            <p>In some situation, clicking on a button will open a new tab. Because of how Cypress is built (it
              runs in a browser),
              it will never have multi-tabs support.<br>
              Still, we need to make sure that clicking on a button designed to open a new tab actually does it...</p>
            <div class="well" style="margin-top: 0; margin-bottom: 10px;">
              <p><strong>Problem steps:</strong></p>
              <ol>
                <li>Click on the following button to trigger a new tab opening</li>
                <li>Assert that the button does what's it's supposed to do</li>
              </ol>
            </div>
            <a href="/" target="_blank" rel="noopener noreferrer"><button id="new-tab-button" data-test="new-tab-button"
                class="new-tab-button">Click me!</button></a>
          </div>

          <div class="col-xs-12">
            <hr>
          </div>

          <div class="col-xs-12">
            <h4 id="config">Browser API: Downloading a file üìÇ</h4>
            <p>At last! We'll ask you to assert clicking on a button actually triggers a file download.<br>
              No need to assert the content of the file downloaded.
            <div class="well" style="margin-top: 0; margin-bottom: 10px;">
              <p><strong>Problem steps:</strong></p>
              <ol>
                <li>Click on the following button to trigger a file download</li>
                <li>Assert that the button does what's it's supposed to do</li>
                <li>BONUS: Assert the details of the file downloaded</li>
              </ol>
            </div>
            <a href="/assets/img/javascript-logo.png" download="true" id="file-download-button"
              data-test="file-download-button" class="file-download-button"><button>Click me!</button></a>
          </div>

          <div class="col-xs-12">
            <hr>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.getElementById('file-download-button').onclick = function (event) {
        if (window.Cypress) {
          event.preventDefault();
        }
      };
    </script>
    <script src="/assets/js/vendor/jquery-1.12.0.min.js"></script>
    <script src="/assets/js/vendor/bootstrap.min.js"></script>
    <script src="/assets/js/vendor/highlight.pack.js"></script>
    <script src="/assets/js/scripts.js"></script>
    <script src="/assets/js/section-2/index.js"></script>
</body>

</html>